# توضیحات واریانت محصول

درخواست شما برای توضیح واریانت‌های محصول با مثال ۸ مدل لباس که هر کدام ۵ رنگ و ۶ سایز دارند، به شرح زیر است:

## مفهوم واریانت محصول (Product Variant)

در فروشگاه‌های اینترنتی، به جای اینکه برای هر ترکیب رنگ و سایز یک محصول، یک محصول جدید تعریف کنیم، از مفهومی به نام **واریانت** استفاده می‌کنیم. در واقع، یک محصول اصلی (مانند "پیراهن مردانه مدل کلاسیک") داریم و ویژگی‌های متغیر آن (مانند رنگ و سایز) واریانت‌های آن محصول را تشکیل می‌دهند.

### مثال فروشگاه لباس شما

**محصول اصلی (والد):** در سناریوی شما، ما ۸ محصول اصلی داریم. برای مثال:
1.  تی‌شرت یقه گرد
2.  پیراهن آستین بلند
3.  شلوار جین
4.  کاپشن
5.  و... (تا ۸ مدل)

هر کدام از این ۸ مدل، محصول اصلی یا والد (Parent Product) محسوب می‌شوند.

**ویژگی‌های متغیر (Attributes):**
برای هر محصول، دو ویژگی متغیر تعریف کرده‌اید:
1.  **رنگ (Color):** با ۵ مقدار مختلف (مثلاً: سفید، مشکی، آبی، قرمز، سبز)
2.  **سایز (Size):** با ۶ مقدار مختلف (مثلاً: S, M, L, XL, XXL, XXXL)

**واریانت‌ها (Variants):**
یک واریانت، ترکیبی منحصر به فرد از ویژگی‌های متغیر یک محصول است. برای هر یک از ۸ مدل لباس شما، تعداد واریانت‌ها به صورت زیر محاسبه می‌شود:

تعداد رنگ‌ها × تعداد سایزها = تعداد کل واریانت‌ها برای یک محصول
5 (رنگ) × 6 (سایز) = **30 واریانت**

بنابراین، برای هر مدل لباس (مثلاً برای "تی‌شرت یقه گرد")، شما ۳۰ واریانت مختلف در انبار خود دارید. مثلاً:
*   تی‌شرت یقه گرد، رنگ سفید، سایز M
*   تی‌شرت یقه گرد، رنگ مشکی، سایز L
*   تی‌شرت یقه گرد، رنگ آبی، سایز XL
*   و...

**تعداد کل واریانت‌ها در فروشگاه:**
از آنجایی که شما ۸ مدل لباس مختلف دارید، تعداد کل واریانت‌ها در کل فروشگاه شما برابر است با:

تعداد مدل‌های لباس × تعداد واریانت‌ها برای هر مدل
8 (مدل) × 30 (واریانت) = **240 واریانت**

## چرا استفاده از واریانت مهم است؟

1.  **مدیریت آسان انبار:** به جای تعریف ۲۴۰ محصول جداگانه، شما فقط ۸ محصول اصلی را مدیریت می‌کنید. هر واریانت می‌تواند موجودی انبار (Stock)، قیمت (Price) و شناسه انبار (SKU) منحصر به فرد خود را داشته باشد.
    *   **مثال:** ممکن است قیمت "تی‌شرت یقه گرد، رنگ قرمز، سایز XXL" کمی بیشتر از سایز M همان رنگ باشد. یا ممکن است موجودی سایز L تمام شده باشد، در حالی که سایزهای دیگر هنوز موجود هستند.

2.  **تجربه کاربری بهتر (UX):** مشتری در صفحه یک محصول (مثلاً پیراهن)، به راحتی می‌تواند رنگ و سایز مورد نظر خود را انتخاب کرده و وضعیت موجودی و قیمت همان ترکیب خاص را مشاهده کند، بدون اینکه نیاز باشد در صفحات مختلف سایت جستجو کند.

3.  **گزارش‌گیری دقیق:** شما می‌توانید به راحتی گزارش بگیرید که کدام رنگ یا کدام سایز از یک مدل لباس خاص، پرفروش‌تر بوده است.

## ساختار در پایگاه داده (به صورت ساده)

برای پیاده‌سازی این سیستم، معمولاً به چند جدول در پایگاه داده نیاز داریم:

1.  **Products (محصولات):**
    *   `id`
    *   `name` (مثلاً: "تی‌شرت یقه گرد")
    *   `description`
    *   ...

2.  **Attributes (ویژگی‌ها):**
    *   `id`
    *   `name` (مثلاً: "رنگ" یا "سایز")

3.  **AttributeValues (مقادیر ویژگی‌ها):**
    *   `id`
    *   `attribute_id` (مثلاً id "رنگ")
    *   `value` (مثلاً: "سفید" یا "XL")

4.  **ProductVariants (واریانت‌های محصول):**
    *   `id`
    *   `product_id` (به کدام محصول اصلی تعلق دارد)
    *   `price` (قیمت این واریانت خاص)
    *   `stock` (موجودی این واریانت)
    *   `sku` (شناسه انبار)
    *   ...

5.  **VariantAttributeValues (جدول واسط برای اتصال واریانت به مقادیر ویژگی‌ها):**
    *   `variant_id`
    *   `attribute_value_id`

با این ساختار، یک واریانت از طریق جدول واسط به مقادیر ویژگی‌های خود (مثلاً "رنگ سفید" و "سایز M") متصل می‌شود و خودش نیز به محصول اصلی ("تی‌شرت یقه گرد") تعلق دارد.